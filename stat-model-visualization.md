# 데이터 과학 -- 기초 통계




## 1. 모형을 기술하는 방법 {#describe-statistical-model}

데이터에 기반한 통계 모형을 기술하는 방식은 세가지로 나눌 수 있다.

1. 수학을 동원
2. 기하학(Geometry)을 동원한 시각화
3. 컴퓨터 구문(Syntatic)

### 1.1. 수학 

수학을 동원하여 모형을 기술하는 방식은 수식으로 모형 아키텍쳐를 정의하고 
수학과 다른 확률분포도 함께 정의하고 나서, 추정해애되는 회귀계수 등 모수를 표기한다.

- 방정식 : $y = beta_0 + beta_1 x_1 + beta_2 x_2 + \epsilon$
- 잔차 : $\epsilon ~ N(0, \sigma_{\epsilon}$
- 회귀계수 : $beta_0 , beta_1 , beta_2$

### 1.2. 기하학적인 시각화

기하적인 방법을 동원하여 모형을 기술하는 방식은 데이터를 `ggplot` 등을 동원하여 
시각적으로 데이터와 함께 모형을 기술한다.


~~~{.r}
data(mpg)
mpg_df <- mpg

mpg_df <- mpg_df %>% 
    mutate(am = ifelse(str_detect(trans, "auto"), "Auto", "Manual")) %>% 
    mutate(am = factor(am, levels=c("Auto", "Manual")))

ggplot(mpg_df, aes(x=displ, y=hwy, color=am)) +
    geom_point() +
    geom_smooth(method="lm", se=FALSE)
~~~

<img src="fig/describe-model-1.png" style="display: block; margin: auto;" />

### 1.3. 컴퓨터 출력결과

데이터를 수학/통계적인 모형으로 적합시킨 결과를 컴퓨터 출력 결과물로 기술한다.


~~~{.r}
mpg_lm <- lm(hwy ~ displ + factor(am), data = mpg_df)
summary(mpg_lm)
~~~



~~~{.output}

Call:
lm(formula = hwy ~ displ + factor(am), data = mpg_df)

Residuals:
    Min      1Q  Median      3Q     Max 
-7.8130 -2.2109 -0.2639  2.0964 14.5517 

Coefficients:
                 Estimate Std. Error t value            Pr(>|t|)    
(Intercept)       35.0933     0.8096  43.348 <0.0000000000000002 ***
displ             -3.4412     0.2016 -17.070 <0.0000000000000002 ***
factor(am)Manual   0.8933     0.5531   1.615               0.108    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 3.823 on 231 degrees of freedom
Multiple R-squared:  0.5914,	Adjusted R-squared:  0.5879 
F-statistic: 167.2 on 2 and 231 DF,  p-value: < 0.00000000000000022

~~~

## 2. 예제 데이터 - 연비 데이터셋(mpg) {#mpg-dataset}

1999년과 10년후 두시점에 대해서 미국에서 시판되는 자동차 차종에 대한 연비를 측정한 데이터가 
`ggplot` `mpg` 데이터로 제공되고 있다. 범주형 변수와 연속형 변수가 다수 섞여있어 회귀분석 
모형을 시각화하는데 적합한 것으로 판단되어 예제 데이터로 사용한다.


~~~{.r}
# 0. 환경설정 -----------------------------------
# library(tidyverse)
# library(broom)
# library(modelr)
# library(stringr)
# library(plotly)
# library(ggthemes)
# library(extrafont)
# loadfonts()

# 1. 데이터 -----------------------------------
data(mpg)
mpg_df <- mpg

mpg_df <- mpg_df %>% 
    mutate(am = ifelse(str_detect(trans, "auto"), "Auto", "Manual")) %>% 
    mutate(am = factor(am, levels=c("Auto", "Manual"), labels = c("자동변속기", "수동변속기"))) %>% 
    mutate(drv = factor(drv, levels=c("4", "f", "r"), labels = c("4륜구동", "전륜구동", "후륜구동")))

DT::datatable(mpg_df)    
~~~

<!--html_preserve--><div id="htmlwidget-a5b09d06bbcd249b6385" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-a5b09d06bbcd249b6385">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234"],["audi","audi","audi","audi","audi","audi","audi","audi","audi","audi","audi","audi","audi","audi","audi","audi","audi","audi","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","chevrolet","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","dodge","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","ford","honda","honda","honda","honda","honda","honda","honda","honda","honda","hyundai","hyundai","hyundai","hyundai","hyundai","hyundai","hyundai","hyundai","hyundai","hyundai","hyundai","hyundai","hyundai","hyundai","jeep","jeep","jeep","jeep","jeep","jeep","jeep","jeep","land rover","land rover","land rover","land rover","lincoln","lincoln","lincoln","mercury","mercury","mercury","mercury","nissan","nissan","nissan","nissan","nissan","nissan","nissan","nissan","nissan","nissan","nissan","nissan","nissan","pontiac","pontiac","pontiac","pontiac","pontiac","subaru","subaru","subaru","subaru","subaru","subaru","subaru","subaru","subaru","subaru","subaru","subaru","subaru","subaru","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","toyota","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen","volkswagen"],["a4","a4","a4","a4","a4","a4","a4","a4 quattro","a4 quattro","a4 quattro","a4 quattro","a4 quattro","a4 quattro","a4 quattro","a4 quattro","a6 quattro","a6 quattro","a6 quattro","c1500 suburban 2wd","c1500 suburban 2wd","c1500 suburban 2wd","c1500 suburban 2wd","c1500 suburban 2wd","corvette","corvette","corvette","corvette","corvette","k1500 tahoe 4wd","k1500 tahoe 4wd","k1500 tahoe 4wd","k1500 tahoe 4wd","malibu","malibu","malibu","malibu","malibu","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","durango 4wd","durango 4wd","durango 4wd","durango 4wd","durango 4wd","durango 4wd","durango 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","expedition 2wd","expedition 2wd","expedition 2wd","explorer 4wd","explorer 4wd","explorer 4wd","explorer 4wd","explorer 4wd","explorer 4wd","f150 pickup 4wd","f150 pickup 4wd","f150 pickup 4wd","f150 pickup 4wd","f150 pickup 4wd","f150 pickup 4wd","f150 pickup 4wd","mustang","mustang","mustang","mustang","mustang","mustang","mustang","mustang","mustang","civic","civic","civic","civic","civic","civic","civic","civic","civic","sonata","sonata","sonata","sonata","sonata","sonata","sonata","tiburon","tiburon","tiburon","tiburon","tiburon","tiburon","tiburon","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","range rover","range rover","range rover","range rover","navigator 2wd","navigator 2wd","navigator 2wd","mountaineer 4wd","mountaineer 4wd","mountaineer 4wd","mountaineer 4wd","altima","altima","altima","altima","altima","altima","maxima","maxima","maxima","pathfinder 4wd","pathfinder 4wd","pathfinder 4wd","pathfinder 4wd","grand prix","grand prix","grand prix","grand prix","grand prix","forester awd","forester awd","forester awd","forester awd","forester awd","forester awd","impreza awd","impreza awd","impreza awd","impreza awd","impreza awd","impreza awd","impreza awd","impreza awd","4runner 4wd","4runner 4wd","4runner 4wd","4runner 4wd","4runner 4wd","4runner 4wd","camry","camry","camry","camry","camry","camry","camry","camry solara","camry solara","camry solara","camry solara","camry solara","camry solara","camry solara","corolla","corolla","corolla","corolla","corolla","land cruiser wagon 4wd","land cruiser wagon 4wd","toyota tacoma 4wd","toyota tacoma 4wd","toyota tacoma 4wd","toyota tacoma 4wd","toyota tacoma 4wd","toyota tacoma 4wd","toyota tacoma 4wd","gti","gti","gti","gti","gti","jetta","jetta","jetta","jetta","jetta","jetta","jetta","jetta","jetta","new beetle","new beetle","new beetle","new beetle","new beetle","new beetle","passat","passat","passat","passat","passat","passat","passat"],[1.8,1.8,2,2,2.8,2.8,3.1,1.8,1.8,2,2,2.8,2.8,3.1,3.1,2.8,3.1,4.2,5.3,5.3,5.3,5.7,6,5.7,5.7,6.2,6.2,7,5.3,5.3,5.7,6.5,2.4,2.4,3.1,3.5,3.6,2.4,3,3.3,3.3,3.3,3.3,3.3,3.8,3.8,3.8,4,3.7,3.7,3.9,3.9,4.7,4.7,4.7,5.2,5.2,3.9,4.7,4.7,4.7,5.2,5.7,5.9,4.7,4.7,4.7,4.7,4.7,4.7,5.2,5.2,5.7,5.9,4.6,5.4,5.4,4,4,4,4,4.6,5,4.2,4.2,4.6,4.6,4.6,5.4,5.4,3.8,3.8,4,4,4.6,4.6,4.6,4.6,5.4,1.6,1.6,1.6,1.6,1.6,1.8,1.8,1.8,2,2.4,2.4,2.4,2.4,2.5,2.5,3.3,2,2,2,2,2.7,2.7,2.7,3,3.7,4,4.7,4.7,4.7,5.7,6.1,4,4.2,4.4,4.6,5.4,5.4,5.4,4,4,4.6,5,2.4,2.4,2.5,2.5,3.5,3.5,3,3,3.5,3.3,3.3,4,5.6,3.1,3.8,3.8,3.8,5.3,2.5,2.5,2.5,2.5,2.5,2.5,2.2,2.2,2.5,2.5,2.5,2.5,2.5,2.5,2.7,2.7,3.4,3.4,4,4.7,2.2,2.2,2.4,2.4,3,3,3.5,2.2,2.2,2.4,2.4,3,3,3.3,1.8,1.8,1.8,1.8,1.8,4.7,5.7,2.7,2.7,2.7,3.4,3.4,4,4,2,2,2,2,2.8,1.9,2,2,2,2,2.5,2.5,2.8,2.8,1.9,1.9,2,2,2.5,2.5,1.8,1.8,2,2,2.8,2.8,3.6],[1999,1999,2008,2008,1999,1999,2008,1999,1999,2008,2008,1999,1999,2008,2008,1999,2008,2008,2008,2008,2008,1999,2008,1999,1999,2008,2008,2008,2008,2008,1999,1999,1999,2008,1999,2008,2008,1999,1999,1999,1999,2008,2008,2008,1999,1999,2008,2008,2008,2008,1999,1999,2008,2008,2008,1999,1999,1999,2008,2008,2008,1999,2008,1999,2008,2008,2008,2008,2008,2008,1999,1999,2008,1999,1999,1999,2008,1999,1999,1999,2008,2008,1999,1999,1999,1999,1999,2008,1999,2008,1999,1999,2008,2008,1999,1999,2008,2008,2008,1999,1999,1999,1999,1999,2008,2008,2008,2008,1999,1999,2008,2008,1999,1999,2008,1999,1999,2008,2008,2008,2008,2008,2008,2008,1999,1999,2008,2008,2008,2008,1999,2008,2008,1999,1999,1999,2008,1999,2008,2008,1999,1999,1999,2008,2008,2008,2008,1999,1999,2008,1999,1999,2008,2008,1999,1999,1999,2008,2008,1999,1999,2008,2008,2008,2008,1999,1999,1999,1999,2008,2008,2008,2008,1999,1999,1999,1999,2008,2008,1999,1999,2008,2008,1999,1999,2008,1999,1999,2008,2008,1999,1999,2008,1999,1999,1999,2008,2008,1999,2008,1999,1999,2008,1999,1999,2008,2008,1999,1999,2008,2008,1999,1999,1999,1999,2008,2008,2008,2008,1999,1999,1999,1999,1999,1999,2008,2008,1999,1999,2008,2008,1999,1999,2008],[4,4,4,4,6,6,6,4,4,4,4,6,6,6,6,6,6,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,4,4,6,6,6,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,8,8,8,8,8,6,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,6,6,6,6,8,8,6,6,8,8,8,8,8,6,6,6,6,8,8,8,8,8,4,4,4,4,4,4,4,4,4,4,4,4,4,6,6,6,4,4,4,4,6,6,6,6,6,6,8,8,8,8,8,8,8,8,8,8,8,8,6,6,8,8,4,4,4,4,6,6,6,6,6,6,6,6,8,6,6,6,6,8,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,6,6,6,8,4,4,4,4,6,6,6,4,4,4,4,6,6,6,4,4,4,4,4,8,8,4,4,4,6,6,6,6,4,4,4,4,6,4,4,4,4,4,5,5,6,6,4,4,4,4,5,5,4,4,4,4,6,6,6],["auto(l5)","manual(m5)","manual(m6)","auto(av)","auto(l5)","manual(m5)","auto(av)","manual(m5)","auto(l5)","manual(m6)","auto(s6)","auto(l5)","manual(m5)","auto(s6)","manual(m6)","auto(l5)","auto(s6)","auto(s6)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","manual(m6)","auto(l4)","manual(m6)","auto(s6)","manual(m6)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(s6)","auto(l3)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(l6)","auto(l6)","manual(m6)","auto(l4)","auto(l4)","manual(m5)","auto(l5)","auto(l5)","auto(l5)","manual(m5)","auto(l4)","auto(l4)","auto(l5)","auto(l5)","auto(l5)","auto(l4)","auto(l5)","auto(l4)","manual(m6)","auto(l5)","auto(l5)","auto(l5)","manual(m6)","manual(m6)","auto(l4)","manual(m5)","auto(l5)","auto(l4)","auto(l4)","auto(l4)","auto(l6)","auto(l5)","manual(m5)","auto(l5)","auto(l5)","auto(l6)","auto(l4)","auto(l4)","manual(m5)","manual(m5)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","manual(m5)","auto(l4)","manual(m5)","auto(l5)","auto(l4)","manual(m5)","manual(m5)","auto(l5)","manual(m6)","manual(m5)","auto(l4)","manual(m5)","manual(m5)","auto(l4)","manual(m5)","auto(l5)","auto(l5)","manual(m6)","auto(l4)","manual(m5)","auto(l4)","manual(m5)","auto(l4)","manual(m5)","auto(l5)","auto(l4)","manual(m5)","manual(m5)","auto(l4)","auto(l4)","manual(m6)","manual(m5)","auto(l5)","auto(l5)","auto(l4)","auto(l4)","auto(l5)","auto(l5)","auto(l5)","auto(l5)","auto(l4)","auto(s6)","auto(s6)","auto(l4)","auto(l4)","auto(l4)","auto(l6)","auto(l5)","auto(l5)","auto(l6)","auto(l4)","manual(m5)","auto(l4)","auto(av)","manual(m6)","manual(m6)","auto(av)","auto(l4)","manual(m5)","auto(av)","auto(l4)","manual(m5)","auto(l5)","auto(s5)","auto(l4)","auto(l4)","auto(l4)","auto(l4)","auto(s4)","manual(m5)","auto(l4)","manual(m5)","manual(m5)","auto(l4)","auto(l4)","auto(l4)","manual(m5)","manual(m5)","auto(l4)","auto(s4)","auto(s4)","manual(m5)","manual(m5)","manual(m5)","auto(l4)","auto(l4)","manual(m5)","auto(l5)","auto(l5)","manual(m5)","auto(l4)","manual(m5)","auto(l5)","auto(l4)","manual(m5)","auto(s6)","auto(l4)","manual(m5)","manual(m5)","auto(s5)","auto(l4)","manual(m5)","auto(s5)","auto(l3)","auto(l4)","manual(m5)","manual(m5)","auto(l4)","auto(l4)","auto(s6)","manual(m5)","auto(l4)","manual(m5)","manual(m5)","auto(l4)","manual(m6)","auto(l5)","manual(m5)","auto(l4)","manual(m6)","auto(s6)","manual(m5)","manual(m5)","manual(m5)","auto(l4)","auto(s6)","manual(m6)","auto(s6)","manual(m5)","auto(l4)","manual(m5)","manual(m5)","auto(l4)","manual(m5)","auto(l4)","manual(m5)","auto(s6)","manual(m5)","auto(l5)","auto(s6)","manual(m6)","auto(l5)","manual(m5)","auto(s6)"],["전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","후륜구동","후륜구동","후륜구동","후륜구동","후륜구동","후륜구동","후륜구동","후륜구동","후륜구동","후륜구동","4륜구동","4륜구동","4륜구동","4륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","후륜구동","후륜구동","후륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","후륜구동","후륜구동","후륜구동","후륜구동","후륜구동","후륜구동","후륜구동","후륜구동","후륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","후륜구동","후륜구동","후륜구동","4륜구동","4륜구동","4륜구동","4륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","4륜구동","4륜구동","4륜구동","4륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","4륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동","전륜구동"],[18,21,20,21,16,18,18,18,16,20,19,15,17,17,15,15,17,16,14,11,14,13,12,16,15,16,15,15,14,11,11,14,19,22,18,18,17,18,17,16,16,17,17,11,15,15,16,16,15,14,13,14,14,14,9,11,11,13,13,9,13,11,13,11,12,9,13,13,12,9,11,11,13,11,11,11,12,14,15,14,13,13,13,14,14,13,13,13,11,13,18,18,17,16,15,15,15,15,14,28,24,25,23,24,26,25,24,21,18,18,21,21,18,18,19,19,19,20,20,17,16,17,17,15,15,14,9,14,13,11,11,12,12,11,11,11,12,14,13,13,13,21,19,23,23,19,19,18,19,19,14,15,14,12,18,16,17,18,16,18,18,20,19,20,18,21,19,19,19,20,20,19,20,15,16,15,15,16,14,21,21,21,21,18,18,19,21,21,21,22,18,18,18,24,24,26,28,26,11,13,15,16,17,15,15,15,16,21,19,21,22,17,33,21,19,22,21,21,21,16,17,35,29,21,19,20,20,21,18,19,21,16,18,17],[29,29,31,30,26,26,27,26,25,28,27,25,25,25,25,24,25,23,20,15,20,17,17,26,23,26,25,24,19,14,15,17,27,30,26,29,26,24,24,22,22,24,24,17,22,21,23,23,19,18,17,17,19,19,12,17,15,17,17,12,17,16,18,15,16,12,17,17,16,12,15,16,17,15,17,17,18,17,19,17,19,19,17,17,17,16,16,17,15,17,26,25,26,24,21,22,23,22,20,33,32,32,29,32,34,36,36,29,26,27,30,31,26,26,28,26,29,28,27,24,24,24,22,19,20,17,12,19,18,14,15,18,18,15,17,16,18,17,19,19,17,29,27,31,32,27,26,26,25,25,17,17,20,18,26,26,27,28,25,25,24,27,25,26,23,26,26,26,26,25,27,25,27,20,20,19,17,20,17,29,27,31,31,26,26,28,27,29,31,31,26,26,27,30,33,35,37,35,15,18,20,20,22,17,19,18,20,29,26,29,29,24,44,29,26,29,29,29,29,23,24,44,41,29,26,28,29,29,29,28,29,26,26,26],["p","p","p","p","p","p","p","p","p","p","p","p","p","p","p","p","p","p","r","e","r","r","r","p","p","p","p","p","r","e","r","d","r","r","r","r","r","r","r","r","r","r","r","e","r","r","r","r","r","r","r","r","r","r","e","r","r","r","r","e","r","r","r","r","r","e","r","r","r","e","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","p","r","r","r","p","r","r","r","c","p","r","r","r","r","r","r","r","r","r","r","r","r","r","r","d","r","r","r","e","r","r","p","p","r","r","p","r","p","r","r","r","r","r","r","r","r","r","p","p","r","r","p","r","r","p","p","r","p","r","r","p","r","r","r","p","r","p","r","r","r","r","p","r","p","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","r","p","p","r","d","r","r","p","p","r","r","r","r","d","d","r","r","r","r","p","p","p","p","p","p","p"],["compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","midsize","midsize","midsize","suv","suv","suv","suv","suv","2seater","2seater","2seater","2seater","2seater","suv","suv","suv","suv","midsize","midsize","midsize","midsize","midsize","minivan","minivan","minivan","minivan","minivan","minivan","minivan","minivan","minivan","minivan","minivan","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","suv","suv","suv","suv","suv","suv","suv","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","pickup","suv","suv","suv","suv","suv","suv","suv","suv","suv","pickup","pickup","pickup","pickup","pickup","pickup","pickup","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","midsize","midsize","midsize","midsize","midsize","midsize","midsize","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","suv","compact","compact","midsize","midsize","midsize","midsize","midsize","midsize","midsize","suv","suv","suv","suv","midsize","midsize","midsize","midsize","midsize","suv","suv","suv","suv","suv","suv","subcompact","subcompact","subcompact","subcompact","compact","compact","compact","compact","suv","suv","suv","suv","suv","suv","midsize","midsize","midsize","midsize","midsize","midsize","midsize","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","suv","suv","pickup","pickup","pickup","pickup","pickup","pickup","pickup","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","compact","subcompact","subcompact","subcompact","subcompact","subcompact","subcompact","midsize","midsize","midsize","midsize","midsize","midsize","midsize"],["자동변속기","수동변속기","수동변속기","자동변속기","자동변속기","수동변속기","자동변속기","수동변속기","자동변속기","수동변속기","자동변속기","자동변속기","수동변속기","자동변속기","수동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","수동변속기","자동변속기","수동변속기","자동변속기","수동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","수동변속기","자동변속기","자동변속기","수동변속기","자동변속기","자동변속기","자동변속기","수동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","수동변속기","자동변속기","자동변속기","자동변속기","수동변속기","수동변속기","자동변속기","수동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","수동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","수동변속기","수동변속기","자동변속기","자동변속기","자동변속기","자동변속기","수동변속기","자동변속기","수동변속기","자동변속기","자동변속기","수동변속기","수동변속기","자동변속기","수동변속기","수동변속기","자동변속기","수동변속기","수동변속기","자동변속기","수동변속기","자동변속기","자동변속기","수동변속기","자동변속기","수동변속기","자동변속기","수동변속기","자동변속기","수동변속기","자동변속기","자동변속기","수동변속기","수동변속기","자동변속기","자동변속기","수동변속기","수동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","수동변속기","자동변속기","자동변속기","수동변속기","수동변속기","자동변속기","자동변속기","수동변속기","자동변속기","자동변속기","수동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","자동변속기","수동변속기","자동변속기","수동변속기","수동변속기","자동변속기","자동변속기","자동변속기","수동변속기","수동변속기","자동변속기","자동변속기","자동변속기","수동변속기","수동변속기","수동변속기","자동변속기","자동변속기","수동변속기","자동변속기","자동변속기","수동변속기","자동변속기","수동변속기","자동변속기","자동변속기","수동변속기","자동변속기","자동변속기","수동변속기","수동변속기","자동변속기","자동변속기","수동변속기","자동변속기","자동변속기","자동변속기","수동변속기","수동변속기","자동변속기","자동변속기","자동변속기","수동변속기","자동변속기","수동변속기","수동변속기","자동변속기","수동변속기","자동변속기","수동변속기","자동변속기","수동변속기","자동변속기","수동변속기","수동변속기","수동변속기","자동변속기","자동변속기","수동변속기","자동변속기","수동변속기","자동변속기","수동변속기","수동변속기","자동변속기","수동변속기","자동변속기","수동변속기","자동변속기","수동변속기","자동변속기","자동변속기","수동변속기","자동변속기","수동변속기","자동변속기"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>manufacturer<\/th>\n      <th>model<\/th>\n      <th>displ<\/th>\n      <th>year<\/th>\n      <th>cyl<\/th>\n      <th>trans<\/th>\n      <th>drv<\/th>\n      <th>cty<\/th>\n      <th>hwy<\/th>\n      <th>fl<\/th>\n      <th>class<\/th>\n      <th>am<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[3,4,5,8,9]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script><!--/html_preserve-->

## 3. 모형을 시각화하는 구분 {#taxonym-statistical-model}

관심을 결과값($y$)를 예측하고 기술하는데 다양한 숫자형, 범주형 변수를 동원할 수 있다.
사람이 인지할 수 있는 한정된 차원에 이를 시각적으로 모형을 기술하는 방법은 다음과 같다.

- 숫자형 변수 1 개 + 범부형 변수 1 개 &rarr; 평행선(Parallel Line)
- 숫자형 변수 1 개 + 범부형 변수 2 개 &rarr; 작은창(Facet) + 평행선(Parallel Line)
- 숫자형 변수 2 개 &rarr; 평면(Plane)
- 숫자형 변수 2 개 + 범부형 변수 1 개 &rarr; 평행 평면(parallel Plane)

### 3.1. 숫자형 변수 1 개 + 범부형 변수 1 개 {#num-one-cat-one}

`hwy`는 고속도로 연비로 자동차를 운전하면서 관심을 갖는 중요한 측정변수 중 하나다.
갤런당 몇 마일을 갈 수 있는지 나타나는 지표로 우리나라에서는 리터당 킬로미터에 대응된다.

- 종속변수: `hwy`
- 예측변수/독립변수: `disp`, `am`
    - `disp`: 연속형 변수
    - `am`: 범주형 변수

$$\text{연비(hwy)} = \beta_0 + \beta_1 \text{배기량(disp)} + \beta_2 \text{변속기(am)} + \epsilon$$



~~~{.r}
# 2. 숫자형 변수 1개 범주형 변수 1개 시각화 -----------------------------------
mpg_lm <- lm(hwy ~ displ + am, data = mpg_df)

mpg_data_space <- ggplot(mpg_df, aes(x=displ, y=hwy, color=am)) +
    geom_point() +
    labs(x="배기량", y="고속도로 연비", color="변속기", title="배기량과 고속도로 연비",
         subtitle="배기량(단위:리터), 연비(단위:갤런당 마일)") +
    theme_bw(base_family="NanumGothic")

mpg_data_space +
    geom_line(data= augment(mpg_lm), aes(y=.fitted, color=am), size=1.5, alpha=0.7) 
~~~

<img src="fig/mpg-num-one-cat-one-1.png" style="display: block; margin: auto;" />

### 3.2. 숫자형 변수 1 개 + 범부형 변수 2 개 {#num-one-cat-two}

3.1.에서 다룬 숫자형 변수 1 개 + 범부형 변수 1 개 모형에서 범주형 변수를 하나 더 추가한다.

- 종속변수: `hwy`
- 예측변수/독립변수: `disp`, `am`, `drv`
    - `disp`: 연속형 변수
    - `am`: 범주형 변수
    - `drv`: 구동방식

$$\text{연비(hwy)} = \beta_0 + \beta_1 \text{배기량(disp)} + \beta_2 \text{변속기(am)} + \beta_3 \text{구동방식(drv)} + \epsilon$$



~~~{.r}
# 2. 숫자형 변수 1개 범주형 변수 2개 시각화 -----------------------------------

mpg_lm <- lm(hwy ~ displ + am + drv, data = mpg_df)

mpg_1n_1c_data_space <- ggplot(mpg_df, aes(x=displ, y=hwy, color=am, group=drv)) +
    geom_point() +
    facet_wrap(~drv)

mpg_1n_1c_data_space +
    geom_line(data= augment(mpg_lm), aes(y=.fitted, group=am), size=1.5, alpha=0.7) 
~~~

<img src="fig/mpg-num-one-cat-two-1.png" style="display: block; margin: auto;" />

### 3.3. 숫자형 변수 2 개 + 범부형 변수 0 개 [^so-plane] {#num-two-cat-zero}

[^so-plane]: [Add Regression Plane to 3d Scatter Plot in Plotly](https://stackoverflow.com/questions/38331198/add-regression-plane-to-3d-scatter-plot-in-plotly)

숫자형 변수 1 개 + 범부형 변수 조합에서 숫자형 변수만 2개인 경우를 상정해본다.

- 종속변수: `hwy`
- 예측변수/독립변수: `disp`, `cyl`
    - `disp`: 연속형 변수
    - `cyl`: 실린더 갯수

$$\text{연비(hwy)} = \beta_0 + \beta_1 \text{배기량(disp)} + \beta_2 \text{실린더 갯수(cyl)} + \epsilon$$

#### 3.3.1. 2차원 평면 위에 색상

연속형 변수가 총 3가지로 2차원 평면에 두개 독립변수를 놓고 색상으로 종속변수를 시각화한다.


~~~{.r}
# 2. 숫자형 변수 2개 범주형 변수 0개 시각화 -----------------------------------
## 2.1. 모형
mpg_lm <- lm(hwy ~ displ + cyl, data = mpg_df)

mpg_data_grid <- mpg_df %>%
    data_grid(
        cyl = seq_range(cyl, by = 1),
        displ = seq_range(displ, by = 1)
    )

mpg_hats <- augment(mpg_lm, newdata = mpg_data_grid)

## 2.2. 2차원 평면 
mpg_2n_0c_data_space <- ggplot(mpg_df, aes(x=displ, y=cyl)) +
    geom_point(aes(color=hwy)) +
    geom_jitter() +
    labs(x="배기량", y="실린더 갯수", color="연비", title="배기량과 실린더 갯수를 고려한 고속도로 연비",
         subtitle="배기량(단위:리터), 연비(단위:갤런당 마일)") +
    theme_bw(base_family="NanumGothic") +
    theme(legend.position = "right")

mpg_2n_0c_data_space +
    geom_tile(data = mpg_hats, aes(fill = .fitted), alpha = 0.3) +
    scale_fill_continuous("hwy", limits = range(mpg_df$hwy), guide = 'none')
~~~

<img src="fig/mpg-num-two-cat-zero-1.png" style="display: block; margin: auto;" />

#### 3.3.2. 3차원 공간 

연속형 변수가 총 3가지로 3차원 공간에 데이터를 표현하고 이를 평면으로 시각화한다.


~~~{.r}
## 2.3. 3차원 공간
graph_reso <- 0.1

axis_x <- seq(min(mpg_df$displ), max(mpg_df$displ), by = graph_reso)
axis_y <- seq(min(mpg_df$cyl), max(mpg_df$cyl), by = graph_reso)

mpg_data_grid <- mpg_df %>%
    data_grid(
        cyl = seq_range(cyl, by = graph_reso),
        displ = seq_range(displ, by = graph_reso)
    )

mpg_data_grid$plane <- predict.lm(mpg_lm, newdata = mpg_data_grid)

mpg_lm_plane <- reshape2::acast(mpg_data_grid, displ ~ cyl, value.var = "plane")

plot_ly(data = mpg_df, z = ~hwy, x = ~displ, y = ~cyl, opacity = 0.6) %>%
    add_markers(text = ~model, marker = list(size = 2)) %>%
    add_surface(x = ~axis_x, y = ~axis_y, z = ~mpg_lm_plane, showscale = TRUE, cmax = 1)
~~~

<!--html_preserve--><div id="34a4297172f4" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="34a4297172f4">{"x":{"visdat":{"34a43c8055d":["function () ","plotlyVisDat"]},"cur_data":"34a43c8055d","attrs":{"34a43c8055d":{"z":{},"x":{},"y":{},"opacity":0.6,"alpha":1,"sizes":[10,100],"type":"scatter3d","mode":"markers","text":{},"marker":{"size":2}},"34a43c8055d.1":{"z":{},"x":{},"y":{},"opacity":0.6,"alpha":1,"sizes":[10,100],"type":"surface","showscale":true,"cmax":1}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"scene":{"xaxis":{"title":"displ"},"yaxis":{"title":"cyl"},"zaxis":{"title":"hwy"}},"xaxis":{"domain":[0,1]},"yaxis":{"domain":[0,1]},"hovermode":"closest","showlegend":false,"legend":{"y":0.5,"yanchor":"top"}},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"z":[29,29,31,30,26,26,27,26,25,28,27,25,25,25,25,24,25,23,20,15,20,17,17,26,23,26,25,24,19,14,15,17,27,30,26,29,26,24,24,22,22,24,24,17,22,21,23,23,19,18,17,17,19,19,12,17,15,17,17,12,17,16,18,15,16,12,17,17,16,12,15,16,17,15,17,17,18,17,19,17,19,19,17,17,17,16,16,17,15,17,26,25,26,24,21,22,23,22,20,33,32,32,29,32,34,36,36,29,26,27,30,31,26,26,28,26,29,28,27,24,24,24,22,19,20,17,12,19,18,14,15,18,18,15,17,16,18,17,19,19,17,29,27,31,32,27,26,26,25,25,17,17,20,18,26,26,27,28,25,25,24,27,25,26,23,26,26,26,26,25,27,25,27,20,20,19,17,20,17,29,27,31,31,26,26,28,27,29,31,31,26,26,27,30,33,35,37,35,15,18,20,20,22,17,19,18,20,29,26,29,29,24,44,29,26,29,29,29,29,23,24,44,41,29,26,28,29,29,29,28,29,26,26,26],"x":[1.8,1.8,2,2,2.8,2.8,3.1,1.8,1.8,2,2,2.8,2.8,3.1,3.1,2.8,3.1,4.2,5.3,5.3,5.3,5.7,6,5.7,5.7,6.2,6.2,7,5.3,5.3,5.7,6.5,2.4,2.4,3.1,3.5,3.6,2.4,3,3.3,3.3,3.3,3.3,3.3,3.8,3.8,3.8,4,3.7,3.7,3.9,3.9,4.7,4.7,4.7,5.2,5.2,3.9,4.7,4.7,4.7,5.2,5.7,5.9,4.7,4.7,4.7,4.7,4.7,4.7,5.2,5.2,5.7,5.9,4.6,5.4,5.4,4,4,4,4,4.6,5,4.2,4.2,4.6,4.6,4.6,5.4,5.4,3.8,3.8,4,4,4.6,4.6,4.6,4.6,5.4,1.6,1.6,1.6,1.6,1.6,1.8,1.8,1.8,2,2.4,2.4,2.4,2.4,2.5,2.5,3.3,2,2,2,2,2.7,2.7,2.7,3,3.7,4,4.7,4.7,4.7,5.7,6.1,4,4.2,4.4,4.6,5.4,5.4,5.4,4,4,4.6,5,2.4,2.4,2.5,2.5,3.5,3.5,3,3,3.5,3.3,3.3,4,5.6,3.1,3.8,3.8,3.8,5.3,2.5,2.5,2.5,2.5,2.5,2.5,2.2,2.2,2.5,2.5,2.5,2.5,2.5,2.5,2.7,2.7,3.4,3.4,4,4.7,2.2,2.2,2.4,2.4,3,3,3.5,2.2,2.2,2.4,2.4,3,3,3.3,1.8,1.8,1.8,1.8,1.8,4.7,5.7,2.7,2.7,2.7,3.4,3.4,4,4,2,2,2,2,2.8,1.9,2,2,2,2,2.5,2.5,2.8,2.8,1.9,1.9,2,2,2.5,2.5,1.8,1.8,2,2,2.8,2.8,3.6],"y":[4,4,4,4,6,6,6,4,4,4,4,6,6,6,6,6,6,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,4,4,6,6,6,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,8,8,8,8,8,6,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,6,6,6,6,8,8,6,6,8,8,8,8,8,6,6,6,6,8,8,8,8,8,4,4,4,4,4,4,4,4,4,4,4,4,4,6,6,6,4,4,4,4,6,6,6,6,6,6,8,8,8,8,8,8,8,8,8,8,8,8,6,6,8,8,4,4,4,4,6,6,6,6,6,6,6,6,8,6,6,6,6,8,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,6,6,6,8,4,4,4,4,6,6,6,4,4,4,4,6,6,6,4,4,4,4,4,8,8,4,4,4,6,6,6,6,4,4,4,4,6,4,4,4,4,4,5,5,6,6,4,4,4,4,5,5,4,4,4,4,6,6,6],"opacity":0.6,"type":"scatter3d","mode":"markers","text":["a4","a4","a4","a4","a4","a4","a4","a4 quattro","a4 quattro","a4 quattro","a4 quattro","a4 quattro","a4 quattro","a4 quattro","a4 quattro","a6 quattro","a6 quattro","a6 quattro","c1500 suburban 2wd","c1500 suburban 2wd","c1500 suburban 2wd","c1500 suburban 2wd","c1500 suburban 2wd","corvette","corvette","corvette","corvette","corvette","k1500 tahoe 4wd","k1500 tahoe 4wd","k1500 tahoe 4wd","k1500 tahoe 4wd","malibu","malibu","malibu","malibu","malibu","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","durango 4wd","durango 4wd","durango 4wd","durango 4wd","durango 4wd","durango 4wd","durango 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","expedition 2wd","expedition 2wd","expedition 2wd","explorer 4wd","explorer 4wd","explorer 4wd","explorer 4wd","explorer 4wd","explorer 4wd","f150 pickup 4wd","f150 pickup 4wd","f150 pickup 4wd","f150 pickup 4wd","f150 pickup 4wd","f150 pickup 4wd","f150 pickup 4wd","mustang","mustang","mustang","mustang","mustang","mustang","mustang","mustang","mustang","civic","civic","civic","civic","civic","civic","civic","civic","civic","sonata","sonata","sonata","sonata","sonata","sonata","sonata","tiburon","tiburon","tiburon","tiburon","tiburon","tiburon","tiburon","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","range rover","range rover","range rover","range rover","navigator 2wd","navigator 2wd","navigator 2wd","mountaineer 4wd","mountaineer 4wd","mountaineer 4wd","mountaineer 4wd","altima","altima","altima","altima","altima","altima","maxima","maxima","maxima","pathfinder 4wd","pathfinder 4wd","pathfinder 4wd","pathfinder 4wd","grand prix","grand prix","grand prix","grand prix","grand prix","forester awd","forester awd","forester awd","forester awd","forester awd","forester awd","impreza awd","impreza awd","impreza awd","impreza awd","impreza awd","impreza awd","impreza awd","impreza awd","4runner 4wd","4runner 4wd","4runner 4wd","4runner 4wd","4runner 4wd","4runner 4wd","camry","camry","camry","camry","camry","camry","camry","camry solara","camry solara","camry solara","camry solara","camry solara","camry solara","camry solara","corolla","corolla","corolla","corolla","corolla","land cruiser wagon 4wd","land cruiser wagon 4wd","toyota tacoma 4wd","toyota tacoma 4wd","toyota tacoma 4wd","toyota tacoma 4wd","toyota tacoma 4wd","toyota tacoma 4wd","toyota tacoma 4wd","gti","gti","gti","gti","gti","jetta","jetta","jetta","jetta","jetta","jetta","jetta","jetta","jetta","new beetle","new beetle","new beetle","new beetle","new beetle","new beetle","passat","passat","passat","passat","passat","passat","passat"],"marker":{"fillcolor":"rgba(31,119,180,1)","color":"rgba(31,119,180,1)","size":2},"frame":null},{"colorbar":{"title":"hwy<br />mpg_lm_plane","ticklen":2,"len":0.5,"y":1,"lenmode":"fraction","yanchor":"top"},"colorscale":[["0","rgba(68,1,84,1)"],["0.129755726624642","rgba(71,46,123,1)"],["0.187146440890211","rgba(66,64,132,1)"],["0.231560019867031","rgba(61,77,137,1)"],["0.26917410337551","rgba(58,87,139,1)"],["0.302115735454433","rgba(54,96,141,1)"],["0.331524036561664","rgba(49,104,142,1)"],["0.35979321721103","rgba(48,110,142,1)"],["0.387806610145456","rgba(45,117,142,1)"],["0.415820003079883","rgba(42,123,142,1)"],["0.443736754682557","rgba(38,130,142,1)"],["0.471996271198749","rgba(38,137,141,1)"],["0.5","rgba(37,144,140,1)"],["0.528003728801251","rgba(34,151,138,1)"],["0.556263245317443","rgba(31,158,137,1)"],["0.584179996920117","rgba(39,164,133,1)"],["0.612193389854544","rgba(45,171,129,1)"],["0.64020678278897","rgba(49,177,125,1)"],["0.668475963438336","rgba(54,183,121,1)"],["0.697884264545566","rgba(73,189,113,1)"],["0.730825896624489","rgba(90,196,103,1)"],["0.768439980132969","rgba(105,203,92,1)"],["0.812853559109789","rgba(134,210,78,1)"],["0.870244273375358","rgba(169,219,54,1)"],["1","rgba(253,231,37,1)"]],"showscale":true,"z":[[29.6656122946633,29.5302436421601,29.3948749896568,29.2595063371536,29.1241376846503,28.988769032147,28.8534003796438,28.7180317271405,28.5826630746373,28.447294422134,28.3119257696307,28.1765571171275,28.0411884646242,27.905819812121,27.7704511596177,27.6350825071144,27.4997138546112,27.3643452021079,27.2289765496047,27.0936078971014,26.9582392445981,26.8228705920949,26.6875019395916,26.5521332870884,26.4167646345851,26.2813959820818,26.1460273295786,26.0106586770753,25.8752900245721,25.7399213720688,25.6045527195655,25.4691840670623,25.333815414559,25.1984467620558,25.0630781095525,24.9277094570492,24.792340804546,24.6569721520427,24.5216034995395,24.3862348470362,24.2508661945329],[29.4696251182052,29.3342564657019,29.1988878131986,29.0635191606954,28.9281505081921,28.7927818556889,28.6574132031856,28.5220445506823,28.3866758981791,28.2513072456758,28.1159385931726,27.9805699406693,27.845201288166,27.7098326356628,27.5744639831595,27.4390953306563,27.303726678153,27.1683580256497,27.0329893731465,26.8976207206432,26.76225206814,26.6268834156367,26.4915147631334,26.3561461106302,26.2207774581269,26.0854088056237,25.9500401531204,25.8146715006171,25.6793028481139,25.5439341956106,25.4085655431074,25.2731968906041,25.1378282381008,25.0024595855976,24.8670909330943,24.7317222805911,24.5963536280878,24.4609849755845,24.3256163230813,24.190247670578,24.0548790180748],[29.273637941747,29.1382692892437,29.0029006367405,28.8675319842372,28.7321633317339,28.5967946792307,28.4614260267274,28.3260573742242,28.1906887217209,28.0553200692176,27.9199514167144,27.7845827642111,27.6492141117079,27.5138454592046,27.3784768067013,27.2431081541981,27.1077395016948,26.9723708491916,26.8370021966883,26.701633544185,26.5662648916818,26.4308962391785,26.2955275866753,26.160158934172,26.0247902816687,25.8894216291655,25.7540529766622,25.618684324159,25.4833156716557,25.3479470191524,25.2125783666492,25.0772097141459,24.9418410616427,24.8064724091394,24.6711037566361,24.5357351041329,24.4003664516296,24.2649977991264,24.1296291466231,23.9942604941198,23.8588918416166],[29.0776507652888,28.9422821127855,28.8069134602823,28.671544807779,28.5361761552758,28.4008075027725,28.2654388502692,28.130070197766,27.9947015452627,27.8593328927595,27.7239642402562,27.5885955877529,27.4532269352497,27.3178582827464,27.1824896302432,27.0471209777399,26.9117523252366,26.7763836727334,26.6410150202301,26.5056463677269,26.3702777152236,26.2349090627203,26.0995404102171,25.9641717577138,25.8288031052106,25.6934344527073,25.558065800204,25.4226971477008,25.2873284951975,25.1519598426943,25.016591190191,24.8812225376877,24.7458538851845,24.6104852326812,24.475116580178,24.3397479276747,24.2043792751714,24.0690106226682,23.9336419701649,23.7982733176617,23.6629046651584],[28.8816635888306,28.7462949363274,28.6109262838241,28.4755576313208,28.3401889788176,28.2048203263143,28.0694516738111,27.9340830213078,27.7987143688045,27.6633457163013,27.527977063798,27.3926084112948,27.2572397587915,27.1218711062882,26.986502453785,26.8511338012817,26.7157651487785,26.5803964962752,26.4450278437719,26.3096591912687,26.1742905387654,26.0389218862622,25.9035532337589,25.7681845812556,25.6328159287524,25.4974472762491,25.3620786237459,25.2267099712426,25.0913413187393,24.9559726662361,24.8206040137328,24.6852353612296,24.5498667087263,24.414498056223,24.2791294037198,24.1437607512165,24.0083920987133,23.87302344621,23.7376547937067,23.6022861412035,23.4669174887002],[28.6856764123725,28.5503077598692,28.4149391073659,28.2795704548627,28.1442018023594,28.0088331498562,27.8734644973529,27.7380958448496,27.6027271923464,27.4673585398431,27.3319898873399,27.1966212348366,27.0612525823333,26.9258839298301,26.7905152773268,26.6551466248236,26.5197779723203,26.384409319817,26.2490406673138,26.1136720148105,25.9783033623073,25.842934709804,25.7075660573007,25.5721974047975,25.4368287522942,25.301460099791,25.1660914472877,25.0307227947844,24.8953541422812,24.7599854897779,24.6246168372747,24.4892481847714,24.3538795322681,24.2185108797649,24.0831422272616,23.9477735747584,23.8124049222551,23.6770362697518,23.5416676172486,23.4062989647453,23.2709303122421],[28.4896892359143,28.354320583411,28.2189519309077,28.0835832784045,27.9482146259012,27.812845973398,27.6774773208947,27.5421086683914,27.4067400158882,27.2713713633849,27.1360027108817,27.0006340583784,26.8652654058751,26.7298967533719,26.5945281008686,26.4591594483654,26.3237907958621,26.1884221433588,26.0530534908556,25.9176848383523,25.7823161858491,25.6469475333458,25.5115788808425,25.3762102283393,25.240841575836,25.1054729233328,24.9701042708295,24.8347356183262,24.699366965823,24.5639983133197,24.4286296608165,24.2932610083132,24.1578923558099,24.0225237033067,23.8871550508034,23.7517863983002,23.6164177457969,23.4810490932936,23.3456804407904,23.2103117882871,23.0749431357839],[28.2937020594561,28.1583334069528,28.0229647544496,27.8875961019463,27.7522274494431,27.6168587969398,27.4814901444365,27.3461214919333,27.21075283943,27.0753841869268,26.9400155344235,26.8046468819202,26.669278229417,26.5339095769137,26.3985409244105,26.2631722719072,26.1278036194039,25.9924349669007,25.8570663143974,25.7216976618942,25.5863290093909,25.4509603568876,25.3155917043844,25.1802230518811,25.0448543993779,24.9094857468746,24.7741170943713,24.6387484418681,24.5033797893648,24.3680111368616,24.2326424843583,24.097273831855,23.9619051793518,23.8265365268485,23.6911678743453,23.555799221842,23.4204305693387,23.2850619168355,23.1496932643322,23.014324611829,22.8789559593257],[28.0977148829979,27.9623462304947,27.8269775779914,27.6916089254881,27.5562402729849,27.4208716204816,27.2855029679784,27.1501343154751,27.0147656629718,26.8793970104686,26.7440283579653,26.6086597054621,26.4732910529588,26.3379224004555,26.2025537479523,26.067185095449,25.9318164429458,25.7964477904425,25.6610791379392,25.525710485436,25.3903418329327,25.2549731804295,25.1196045279262,24.9842358754229,24.8488672229197,24.7134985704164,24.5781299179132,24.4427612654099,24.3073926129066,24.1720239604034,24.0366553079001,23.9012866553969,23.7659180028936,23.6305493503903,23.4951806978871,23.3598120453838,23.2244433928806,23.0890747403773,22.953706087874,22.8183374353708,22.6829687828675],[27.9017277065397,27.7663590540365,27.6309904015332,27.49562174903,27.3602530965267,27.2248844440234,27.0895157915202,26.9541471390169,26.8187784865137,26.6834098340104,26.5480411815071,26.4126725290039,26.2773038765006,26.1419352239974,26.0065665714941,25.8711979189908,25.7358292664876,25.6004606139843,25.4650919614811,25.3297233089778,25.1943546564745,25.0589860039713,24.923617351468,24.7882486989648,24.6528800464615,24.5175113939582,24.382142741455,24.2467740889517,24.1114054364485,23.9760367839452,23.8406681314419,23.7052994789387,23.5699308264354,23.4345621739322,23.2991935214289,23.1638248689256,23.0284562164224,22.8930875639191,22.7577189114159,22.6223502589126,22.4869816064093],[27.7057405300816,27.5703718775783,27.435003225075,27.2996345725718,27.1642659200685,27.0288972675653,26.893528615062,26.7581599625587,26.6227913100555,26.4874226575522,26.352054005049,26.2166853525457,26.0813167000424,25.9459480475392,25.8105793950359,25.6752107425327,25.5398420900294,25.4044734375261,25.2691047850229,25.1337361325196,24.9983674800164,24.8629988275131,24.7276301750098,24.5922615225066,24.4568928700033,24.3215242175001,24.1861555649968,24.0507869124935,23.9154182599903,23.780049607487,23.6446809549838,23.5093123024805,23.3739436499772,23.238574997474,23.1032063449707,22.9678376924675,22.8324690399642,22.6971003874609,22.5617317349577,22.4263630824544,22.2909944299512],[27.5097533536234,27.3743847011201,27.2390160486169,27.1036473961136,26.9682787436103,26.8329100911071,26.6975414386038,26.5621727861006,26.4268041335973,26.291435481094,26.1560668285908,26.0206981760875,25.8853295235843,25.749960871081,25.6145922185777,25.4792235660745,25.3438549135712,25.208486261068,25.0731176085647,24.9377489560614,24.8023803035582,24.6670116510549,24.5316429985517,24.3962743460484,24.2609056935451,24.1255370410419,23.9901683885386,23.8547997360354,23.7194310835321,23.5840624310288,23.4486937785256,23.3133251260223,23.1779564735191,23.0425878210158,22.9072191685125,22.7718505160093,22.636481863506,22.5011132110028,22.3657445584995,22.2303759059962,22.095007253493],[27.3137661771652,27.1783975246619,27.0430288721587,26.9076602196554,26.7722915671522,26.6369229146489,26.5015542621456,26.3661856096424,26.2308169571391,26.0954483046359,25.9600796521326,25.8247109996293,25.6893423471261,25.5539736946228,25.4186050421196,25.2832363896163,25.147867737113,25.0124990846098,24.8771304321065,24.7417617796033,24.6063931271,24.4710244745967,24.3356558220935,24.2002871695902,24.064918517087,23.9295498645837,23.7941812120804,23.6588125595772,23.5234439070739,23.3880752545707,23.2527066020674,23.1173379495641,22.9819692970609,22.8466006445576,22.7112319920544,22.5758633395511,22.4404946870478,22.3051260345446,22.1697573820413,22.0343887295381,21.8990200770348],[27.117779000707,26.9824103482038,26.8470416957005,26.7116730431972,26.576304390694,26.4409357381907,26.3055670856875,26.1701984331842,26.0348297806809,25.8994611281777,25.7640924756744,25.6287238231712,25.4933551706679,25.3579865181646,25.2226178656614,25.0872492131581,24.9518805606549,24.8165119081516,24.6811432556483,24.5457746031451,24.4104059506418,24.2750372981386,24.1396686456353,24.004299993132,23.8689313406288,23.7335626881255,23.5981940356223,23.462825383119,23.3274567306157,23.1920880781125,23.0567194256092,22.921350773106,22.7859821206027,22.6506134680994,22.5152448155962,22.3798761630929,22.2445075105897,22.1091388580864,21.9737702055831,21.8384015530799,21.7030329005766],[26.9217918242488,26.7864231717456,26.6510545192423,26.5156858667391,26.3803172142358,26.2449485617325,26.1095799092293,25.974211256726,25.8388426042228,25.7034739517195,25.5681052992162,25.432736646713,25.2973679942097,25.1619993417065,25.0266306892032,24.8912620366999,24.7558933841967,24.6205247316934,24.4851560791902,24.3497874266869,24.2144187741836,24.0790501216804,23.9436814691771,23.8083128166739,23.6729441641706,23.5375755116673,23.4022068591641,23.2668382066608,23.1314695541576,22.9961009016543,22.860732249151,22.7253635966478,22.5899949441445,22.4546262916413,22.319257639138,22.1838889866347,22.0485203341315,21.9131516816282,21.777783029125,21.6424143766217,21.5070457241184],[26.7258046477907,26.5904359952874,26.4550673427841,26.3196986902809,26.1843300377776,26.0489613852744,25.9135927327711,25.7782240802678,25.6428554277646,25.5074867752613,25.3721181227581,25.2367494702548,25.1013808177515,24.9660121652483,24.830643512745,24.6952748602418,24.5599062077385,24.4245375552352,24.289168902732,24.1538002502287,24.0184315977255,23.8830629452222,23.7476942927189,23.6123256402157,23.4769569877124,23.3415883352092,23.2062196827059,23.0708510302026,22.9354823776994,22.8001137251961,22.6647450726929,22.5293764201896,22.3940077676863,22.2586391151831,22.1232704626798,21.9879018101766,21.8525331576733,21.71716450517,21.5817958526668,21.4464272001635,21.3110585476603],[26.5298174713325,26.3944488188292,26.259080166326,26.1237115138227,25.9883428613195,25.8529742088162,25.7176055563129,25.5822369038097,25.4468682513064,25.3114995988032,25.1761309462999,25.0407622937966,24.9053936412934,24.7700249887901,24.6346563362869,24.4992876837836,24.3639190312803,24.2285503787771,24.0931817262738,23.9578130737706,23.8224444212673,23.687075768764,23.5517071162608,23.4163384637575,23.2809698112543,23.145601158751,23.0102325062477,22.8748638537445,22.7394952012412,22.604126548738,22.4687578962347,22.3333892437314,22.1980205912282,22.0626519387249,21.9272832862217,21.7919146337184,21.6565459812151,21.5211773287119,21.3858086762086,21.2504400237054,21.1150713712021],[26.3338302948743,26.1984616423711,26.0630929898678,25.9277243373645,25.7923556848613,25.656987032358,25.5216183798548,25.3862497273515,25.2508810748482,25.115512422345,24.9801437698417,24.8447751173385,24.7094064648352,24.5740378123319,24.4386691598287,24.3033005073254,24.1679318548222,24.0325632023189,23.8971945498156,23.7618258973124,23.6264572448091,23.4910885923059,23.3557199398026,23.2203512872993,23.0849826347961,22.9496139822928,22.8142453297895,22.6788766772863,22.543508024783,22.4081393722798,22.2727707197765,22.1374020672732,22.00203341477,21.8666647622667,21.7312961097635,21.5959274572602,21.4605588047569,21.3251901522537,21.1898214997504,21.0544528472472,20.9190841947439],[26.1378431184161,26.0024744659129,25.8671058134096,25.7317371609064,25.5963685084031,25.4609998558998,25.3256312033966,25.1902625508933,25.0548938983901,24.9195252458868,24.7841565933835,24.6487879408803,24.513419288377,24.3780506358738,24.2426819833705,24.1073133308672,23.971944678364,23.8365760258607,23.7012073733575,23.5658387208542,23.4304700683509,23.2951014158477,23.1597327633444,23.0243641108412,22.8889954583379,22.7536268058346,22.6182581533314,22.4828895008281,22.3475208483249,22.2121521958216,22.0767835433183,21.9414148908151,21.8060462383118,21.6706775858086,21.5353089333053,21.399940280802,21.2645716282988,21.1292029757955,20.9938343232923,20.858465670789,20.7230970182857],[25.941855941958,25.8064872894547,25.6711186369514,25.5357499844482,25.4003813319449,25.2650126794417,25.1296440269384,24.9942753744351,24.8589067219319,24.7235380694286,24.5881694169254,24.4528007644221,24.3174321119188,24.1820634594156,24.0466948069123,23.9113261544091,23.7759575019058,23.6405888494025,23.5052201968993,23.369851544396,23.2344828918928,23.0991142393895,22.9637455868862,22.828376934383,22.6930082818797,22.5576396293765,22.4222709768732,22.2869023243699,22.1515336718667,22.0161650193634,21.8807963668602,21.7454277143569,21.6100590618536,21.4746904093504,21.3393217568471,21.2039531043439,21.0685844518406,20.9332157993373,20.7978471468341,20.6624784943308,20.5271098418276],[25.7458687654998,25.6105001129965,25.4751314604933,25.33976280799,25.2043941554867,25.0690255029835,24.9336568504802,24.798288197977,24.6629195454737,24.5275508929704,24.3921822404672,24.2568135879639,24.1214449354607,23.9860762829574,23.8507076304541,23.7153389779509,23.5799703254476,23.4446016729444,23.3092330204411,23.1738643679378,23.0384957154346,22.9031270629313,22.7677584104281,22.6323897579248,22.4970211054215,22.3616524529183,22.226283800415,22.0909151479118,21.9555464954085,21.8201778429052,21.684809190402,21.5494405378987,21.4140718853955,21.2787032328922,21.1433345803889,21.0079659278857,20.8725972753824,20.7372286228792,20.6018599703759,20.4664913178726,20.3311226653694],[25.5498815890416,25.4145129365383,25.2791442840351,25.1437756315318,25.0084069790286,24.8730383265253,24.737669674022,24.6023010215188,24.4669323690155,24.3315637165123,24.196195064009,24.0608264115057,23.9254577590025,23.7900891064992,23.654720453996,23.5193518014927,23.3839831489894,23.2486144964862,23.1132458439829,22.9778771914797,22.8425085389764,22.7071398864731,22.5717712339699,22.4364025814666,22.3010339289634,22.1656652764601,22.0302966239568,21.8949279714536,21.7595593189503,21.6241906664471,21.4888220139438,21.3534533614405,21.2180847089373,21.082716056434,20.9473474039308,20.8119787514275,20.6766100989242,20.541241446421,20.4058727939177,20.2705041414145,20.1351354889112],[25.3538944125834,25.2185257600802,25.0831571075769,24.9477884550736,24.8124198025704,24.6770511500671,24.5416824975639,24.4063138450606,24.2709451925573,24.1355765400541,24.0002078875508,23.8648392350476,23.7294705825443,23.594101930041,23.4587332775378,23.3233646250345,23.1879959725313,23.052627320028,22.9172586675247,22.7818900150215,22.6465213625182,22.511152710015,22.3757840575117,22.2404154050084,22.1050467525052,21.9696781000019,21.8343094474987,21.6989407949954,21.5635721424921,21.4282034899889,21.2928348374856,21.1574661849824,21.0220975324791,20.8867288799758,20.7513602274726,20.6159915749693,20.4806229224661,20.3452542699628,20.2098856174595,20.0745169649563,19.939148312453],[25.1579072361252,25.022538583622,24.8871699311187,24.7518012786155,24.6164326261122,24.4810639736089,24.3456953211057,24.2103266686024,24.0749580160992,23.9395893635959,23.8042207110926,23.6688520585894,23.5334834060861,23.3981147535829,23.2627461010796,23.1273774485763,22.9920087960731,22.8566401435698,22.7212714910666,22.5859028385633,22.45053418606,22.3151655335568,22.1797968810535,22.0444282285503,21.909059576047,21.7736909235437,21.6383222710405,21.5029536185372,21.367584966034,21.2322163135307,21.0968476610274,20.9614790085242,20.8261103560209,20.6907417035177,20.5553730510144,20.4200043985111,20.2846357460079,20.1492670935046,20.0138984410014,19.8785297884981,19.7431611359948],[24.9619200596671,24.8265514071638,24.6911827546605,24.5558141021573,24.420445449654,24.2850767971508,24.1497081446475,24.0143394921442,23.878970839641,23.7436021871377,23.6082335346345,23.4728648821312,23.3374962296279,23.2021275771247,23.0667589246214,22.9313902721182,22.7960216196149,22.6606529671116,22.5252843146084,22.3899156621051,22.2545470096019,22.1191783570986,21.9838097045953,21.8484410520921,21.7130723995888,21.5777037470856,21.4423350945823,21.306966442079,21.1715977895758,21.0362291370725,20.9008604845693,20.765491832066,20.6301231795627,20.4947545270595,20.3593858745562,20.224017222053,20.0886485695497,19.9532799170464,19.8179112645432,19.6825426120399,19.5471739595367],[24.7659328832089,24.6305642307056,24.4951955782024,24.3598269256991,24.2244582731959,24.0890896206926,23.9537209681893,23.8183523156861,23.6829836631828,23.5476150106796,23.4122463581763,23.276877705673,23.1415090531698,23.0061404006665,22.8707717481632,22.73540309566,22.6000344431567,22.4646657906535,22.3292971381502,22.1939284856469,22.0585598331437,21.9231911806404,21.7878225281372,21.6524538756339,21.5170852231306,21.3817165706274,21.2463479181241,21.1109792656209,20.9756106131176,20.8402419606143,20.7048733081111,20.5695046556078,20.4341360031046,20.2987673506013,20.163398698098,20.0280300455948,19.8926613930915,19.7572927405883,19.621924088085,19.4865554355817,19.3511867830785],[24.5699457067507,24.4345770542474,24.2992084017442,24.1638397492409,24.0284710967377,23.8931024442344,23.7577337917311,23.6223651392279,23.4869964867246,23.3516278342214,23.2162591817181,23.0808905292148,22.9455218767116,22.8101532242083,22.6747845717051,22.5394159192018,22.4040472666985,22.2686786141953,22.133309961692,21.9979413091888,21.8625726566855,21.7272040041822,21.591835351679,21.4564666991757,21.3210980466725,21.1857293941692,21.0503607416659,20.9149920891627,20.7796234366594,20.6442547841562,20.5088861316529,20.3735174791496,20.2381488266464,20.1027801741431,19.9674115216399,19.8320428691366,19.6966742166333,19.5613055641301,19.4259369116268,19.2905682591236,19.1551996066203],[24.3739585302925,24.2385898777893,24.103221225286,23.9678525727828,23.8324839202795,23.6971152677762,23.561746615273,23.4263779627697,23.2910093102665,23.1556406577632,23.0202720052599,22.8849033527567,22.7495347002534,22.6141660477502,22.4787973952469,22.3434287427436,22.2080600902404,22.0726914377371,21.9373227852339,21.8019541327306,21.6665854802273,21.5312168277241,21.3958481752208,21.2604795227176,21.1251108702143,20.989742217711,20.8543735652078,20.7190049127045,20.5836362602013,20.448267607698,20.3128989551947,20.1775303026915,20.0421616501882,19.906792997685,19.7714243451817,19.6360556926784,19.5006870401752,19.3653183876719,19.2299497351687,19.0945810826654,18.9592124301621],[24.1779713538344,24.0426027013311,23.9072340488278,23.7718653963246,23.6364967438213,23.5011280913181,23.3657594388148,23.2303907863115,23.0950221338083,22.959653481305,22.8242848288018,22.6889161762985,22.5535475237952,22.418178871292,22.2828102187887,22.1474415662855,22.0120729137822,21.8767042612789,21.7413356087757,21.6059669562724,21.4705983037692,21.3352296512659,21.1998609987626,21.0644923462594,20.9291236937561,20.7937550412529,20.6583863887496,20.5230177362463,20.3876490837431,20.2522804312398,20.1169117787366,19.9815431262333,19.84617447373,19.7108058212268,19.5754371687235,19.4400685162203,19.304699863717,19.1693312112137,19.0339625587105,18.8985939062072,18.763225253704],[23.9819841773762,23.8466155248729,23.7112468723697,23.5758782198664,23.4405095673631,23.3051409148599,23.1697722623566,23.0344036098534,22.8990349573501,22.7636663048468,22.6282976523436,22.4929289998403,22.3575603473371,22.2221916948338,22.0868230423305,21.9514543898273,21.816085737324,21.6807170848208,21.5453484323175,21.4099797798142,21.274611127311,21.1392424748077,21.0038738223045,20.8685051698012,20.7331365172979,20.5977678647947,20.4623992122914,20.3270305597882,20.1916619072849,20.0562932547816,19.9209246022784,19.7855559497751,19.6501872972719,19.5148186447686,19.3794499922653,19.2440813397621,19.1087126872588,18.9733440347556,18.8379753822523,18.702606729749,18.5672380772458],[23.785997000918,23.6506283484147,23.5152596959115,23.3798910434082,23.244522390905,23.1091537384017,22.9737850858984,22.8384164333952,22.7030477808919,22.5676791283887,22.4323104758854,22.2969418233821,22.1615731708789,22.0262045183756,21.8908358658724,21.7554672133691,21.6200985608658,21.4847299083626,21.3493612558593,21.2139926033561,21.0786239508528,20.9432552983495,20.8078866458463,20.672517993343,20.5371493408398,20.4017806883365,20.2664120358332,20.13104338333,19.9956747308267,19.8603060783235,19.7249374258202,19.5895687733169,19.4542001208137,19.3188314683104,19.1834628158072,19.0480941633039,18.9127255108006,18.7773568582974,18.6419882057941,18.5066195532909,18.3712509007876],[23.5900098244598,23.4546411719566,23.3192725194533,23.18390386695,23.0485352144468,22.9131665619435,22.7777979094403,22.642429256937,22.5070606044337,22.3716919519305,22.2363232994272,22.100954646924,21.9655859944207,21.8302173419174,21.6948486894142,21.5594800369109,21.4241113844077,21.2887427319044,21.1533740794011,21.0180054268979,20.8826367743946,20.7472681218914,20.6118994693881,20.4765308168848,20.3411621643816,20.2057935118783,20.0704248593751,19.9350562068718,19.7996875543685,19.6643189018653,19.528950249362,19.3935815968588,19.2582129443555,19.1228442918522,18.987475639349,18.8521069868457,18.7167383343425,18.5813696818392,18.4460010293359,18.3106323768327,18.1752637243294],[23.3940226480016,23.2586539954984,23.1232853429951,22.9879166904919,22.8525480379886,22.7171793854853,22.5818107329821,22.4464420804788,22.3110734279756,22.1757047754723,22.040336122969,21.9049674704658,21.7695988179625,21.6342301654593,21.498861512956,21.3634928604527,21.2281242079495,21.0927555554462,20.957386902943,20.8220182504397,20.6866495979364,20.5512809454332,20.4159122929299,20.2805436404267,20.1451749879234,20.0098063354201,19.8744376829169,19.7390690304136,19.6037003779104,19.4683317254071,19.3329630729038,19.1975944204006,19.0622257678973,18.9268571153941,18.7914884628908,18.6561198103875,18.5207511578843,18.385382505381,18.2500138528778,18.1146452003745,17.9792765478712],[23.1980354715435,23.0626668190402,22.9272981665369,22.7919295140337,22.6565608615304,22.5211922090272,22.3858235565239,22.2504549040206,22.1150862515174,21.9797175990141,21.8443489465109,21.7089802940076,21.5736116415043,21.4382429890011,21.3028743364978,21.1675056839946,21.0321370314913,20.896768378988,20.7613997264848,20.6260310739815,20.4906624214783,20.355293768975,20.2199251164717,20.0845564639685,19.9491878114652,19.813819158962,19.6784505064587,19.5430818539554,19.4077132014522,19.2723445489489,19.1369758964457,19.0016072439424,18.8662385914391,18.7308699389359,18.5955012864326,18.4601326339294,18.3247639814261,18.1893953289228,18.0540266764196,17.9186580239163,17.7832893714131],[23.0020482950853,22.866679642582,22.7313109900788,22.5959423375755,22.4605736850722,22.325205032569,22.1898363800657,22.0544677275625,21.9190990750592,21.7837304225559,21.6483617700527,21.5129931175494,21.3776244650462,21.2422558125429,21.1068871600396,20.9715185075364,20.8361498550331,20.7007812025299,20.5654125500266,20.4300438975233,20.2946752450201,20.1593065925168,20.0239379400136,19.8885692875103,19.753200635007,19.6178319825038,19.4824633300005,19.3470946774973,19.211726024994,19.0763573724907,18.9409887199875,18.8056200674842,18.670251414981,18.5348827624777,18.3995141099744,18.2641454574712,18.1287768049679,17.9934081524647,17.8580394999614,17.7226708474581,17.5873021949549],[22.8060611186271,22.6706924661238,22.5353238136206,22.3999551611173,22.2645865086141,22.1292178561108,21.9938492036075,21.8584805511043,21.723111898601,21.5877432460978,21.4523745935945,21.3170059410912,21.181637288588,21.0462686360847,20.9108999835815,20.7755313310782,20.6401626785749,20.5047940260717,20.3694253735684,20.2340567210652,20.0986880685619,19.9633194160586,19.8279507635554,19.6925821110521,19.5572134585489,19.4218448060456,19.2864761535423,19.1511075010391,19.0157388485358,18.8803701960326,18.7450015435293,18.609632891026,18.4742642385228,18.3388955860195,18.2035269335163,18.068158281013,17.9327896285097,17.7974209760065,17.6620523235032,17.526683671,17.3913150184967],[22.6100739421689,22.4747052896657,22.3393366371624,22.2039679846592,22.0685993321559,21.9332306796526,21.7978620271494,21.6624933746461,21.5271247221429,21.3917560696396,21.2563874171363,21.1210187646331,20.9856501121298,20.8502814596266,20.7149128071233,20.57954415462,20.4441755021168,20.3088068496135,20.1734381971103,20.038069544607,19.9027008921037,19.7673322396005,19.6319635870972,19.496594934594,19.3612262820907,19.2258576295874,19.0904889770842,18.9551203245809,18.8197516720777,18.6843830195744,18.5490143670711,18.4136457145679,18.2782770620646,18.1429084095614,18.0075397570581,17.8721711045548,17.7368024520516,17.6014337995483,17.4660651470451,17.3306964945418,17.1953278420385],[22.4140867657107,22.2787181132075,22.1433494607042,22.007980808201,21.8726121556977,21.7372435031944,21.6018748506912,21.4665061981879,21.3311375456847,21.1957688931814,21.0604002406781,20.9250315881749,20.7896629356716,20.6542942831684,20.5189256306651,20.3835569781618,20.2481883256586,20.1128196731553,19.9774510206521,19.8420823681488,19.7067137156455,19.5713450631423,19.435976410639,19.3006077581358,19.1652391056325,19.0298704531292,18.894501800626,18.7591331481227,18.6237644956195,18.4883958431162,18.3530271906129,18.2176585381097,18.0822898856064,17.9469212331032,17.8115525805999,17.6761839280966,17.5408152755934,17.4054466230901,17.2700779705869,17.1347093180836,16.9993406655803],[22.2180995892526,22.0827309367493,21.9473622842461,21.8119936317428,21.6766249792395,21.5412563267363,21.405887674233,21.2705190217298,21.1351503692265,20.9997817167232,20.86441306422,20.7290444117167,20.5936757592135,20.4583071067102,20.3229384542069,20.1875698017037,20.0522011492004,19.9168324966972,19.7814638441939,19.6460951916906,19.5107265391874,19.3753578866841,19.2399892341809,19.1046205816776,18.9692519291743,18.8338832766711,18.6985146241678,18.5631459716646,18.4277773191613,18.292408666658,18.1570400141548,18.0216713616515,17.8863027091483,17.750934056645,17.6155654041417,17.4801967516385,17.3448280991352,17.209459446632,17.0740907941287,16.9387221416254,16.8033534891222],[22.0221124127944,21.8867437602911,21.7513751077879,21.6160064552846,21.4806378027814,21.3452691502781,21.2099004977748,21.0745318452716,20.9391631927683,20.8037945402651,20.6684258877618,20.5330572352585,20.3976885827553,20.262319930252,20.1269512777488,19.9915826252455,19.8562139727422,19.720845320239,19.5854766677357,19.4501080152325,19.3147393627292,19.1793707102259,19.0440020577227,18.9086334052194,18.7732647527162,18.6378961002129,18.5025274477096,18.3671587952064,18.2317901427031,18.0964214901999,17.9610528376966,17.8256841851933,17.6903155326901,17.5549468801868,17.4195782276836,17.2842095751803,17.148840922677,17.0134722701738,16.8781036176705,16.7427349651673,16.607366312664],[21.8261252363362,21.690756583833,21.5553879313297,21.4200192788264,21.2846506263232,21.1492819738199,21.0139133213167,20.8785446688134,20.7431760163101,20.6078073638069,20.4724387113036,20.3370700588004,20.2017014062971,20.0663327537938,19.9309641012906,19.7955954487873,19.6602267962841,19.5248581437808,19.3894894912775,19.2541208387743,19.118752186271,18.9833835337678,18.8480148812645,18.7126462287612,18.577277576258,18.4419089237547,18.3065402712515,18.1711716187482,18.0358029662449,17.9004343137417,17.7650656612384,17.6296970087352,17.4943283562319,17.3589597037286,17.2235910512254,17.0882223987221,16.9528537462189,16.8174850937156,16.6821164412123,16.5467477887091,16.4113791362058],[21.630138059878,21.4947694073748,21.3594007548715,21.2240321023683,21.088663449865,20.9532947973617,20.8179261448585,20.6825574923552,20.547188839852,20.4118201873487,20.2764515348454,20.1410828823422,20.0057142298389,19.8703455773357,19.7349769248324,19.5996082723291,19.4642396198259,19.3288709673226,19.1935023148194,19.0581336623161,18.9227650098128,18.7873963573096,18.6520277048063,18.5166590523031,18.3812903997998,18.2459217472965,18.1105530947933,17.97518444229,17.8398157897868,17.7044471372835,17.5690784847802,17.433709832277,17.2983411797737,17.1629725272705,17.0276038747672,16.8922352222639,16.7568665697607,16.6214979172574,16.4861292647542,16.3507606122509,16.2153919597476],[21.4341508834199,21.2987822309166,21.1634135784133,21.0280449259101,20.8926762734068,20.7573076209036,20.6219389684003,20.486570315897,20.3512016633938,20.2158330108905,20.0804643583873,19.945095705884,19.8097270533807,19.6743584008775,19.5389897483742,19.403621095871,19.2682524433677,19.1328837908644,18.9975151383612,18.8621464858579,18.7267778333547,18.5914091808514,18.4560405283481,18.3206718758449,18.1853032233416,18.0499345708384,17.9145659183351,17.7791972658318,17.6438286133286,17.5084599608253,17.3730913083221,17.2377226558188,17.1023540033155,16.9669853508123,16.831616698309,16.6962480458058,16.5608793933025,16.4255107407992,16.290142088296,16.1547734357927,16.0194047832895],[21.2381637069617,21.1027950544584,20.9674264019552,20.8320577494519,20.6966890969486,20.5613204444454,20.4259517919421,20.2905831394389,20.1552144869356,20.0198458344323,19.8844771819291,19.7491085294258,19.6137398769226,19.4783712244193,19.343002571916,19.2076339194128,19.0722652669095,18.9368966144063,18.801527961903,18.6661593093997,18.5307906568965,18.3954220043932,18.26005335189,18.1246846993867,17.9893160468834,17.8539473943802,17.7185787418769,17.5832100893737,17.4478414368704,17.3124727843671,17.1771041318639,17.0417354793606,16.9063668268574,16.7709981743541,16.6356295218508,16.5002608693476,16.3648922168443,16.2295235643411,16.0941549118378,15.9587862593345,15.8234176068313],[21.0421765305035,20.9068078780002,20.771439225497,20.6360705729937,20.5007019204905,20.3653332679872,20.2299646154839,20.0945959629807,19.9592273104774,19.8238586579742,19.6884900054709,19.5531213529676,19.4177527004644,19.2823840479611,19.1470153954579,19.0116467429546,18.8762780904513,18.7409094379481,18.6055407854448,18.4701721329416,18.3348034804383,18.199434827935,18.0640661754318,17.9286975229285,17.7933288704253,17.657960217922,17.5225915654187,17.3872229129155,17.2518542604122,17.116485607909,16.9811169554057,16.8457483029024,16.7103796503992,16.5750109978959,16.4396423453927,16.3042736928894,16.1689050403861,16.0335363878829,15.8981677353796,15.7627990828764,15.6274304303731],[20.8461893540453,20.7108207015421,20.5754520490388,20.4400833965355,20.3047147440323,20.169346091529,20.0339774390258,19.8986087865225,19.7632401340192,19.627871481516,19.4925028290127,19.3571341765095,19.2217655240062,19.0863968715029,18.9510282189997,18.8156595664964,18.6802909139932,18.5449222614899,18.4095536089866,18.2741849564834,18.1388163039801,18.0034476514769,17.8680789989736,17.7327103464703,17.5973416939671,17.4619730414638,17.3266043889606,17.1912357364573,17.055867083954,16.9204984314508,16.7851297789475,16.6497611264443,16.514392473941,16.3790238214377,16.2436551689345,16.1082865164312,15.972917863928,15.8375492114247,15.7021805589214,15.5668119064182,15.4314432539149],[20.6502021775871,20.5148335250839,20.3794648725806,20.2440962200774,20.1087275675741,19.9733589150708,19.8379902625676,19.7026216100643,19.5672529575611,19.4318843050578,19.2965156525545,19.1611470000513,19.025778347548,18.8904096950448,18.7550410425415,18.6196723900382,18.484303737535,18.3489350850317,18.2135664325285,18.0781977800252,17.9428291275219,17.8074604750187,17.6720918225154,17.5367231700122,17.4013545175089,17.2659858650056,17.1306172125024,16.9952485599991,16.8598799074959,16.7245112549926,16.5891426024893,16.4537739499861,16.3184052974828,16.1830366449796,16.0476679924763,15.912299339973,15.7769306874698,15.6415620349665,15.5061933824633,15.37082472996,15.2354560774567],[20.454215001129,20.3188463486257,20.1834776961225,20.0481090436192,19.9127403911159,19.7773717386127,19.6420030861094,19.5066344336062,19.3712657811029,19.2358971285996,19.1005284760964,18.9651598235931,18.8297911710899,18.6944225185866,18.5590538660833,18.4236852135801,18.2883165610768,18.1529479085736,18.0175792560703,17.882210603567,17.7468419510638,17.6114732985605,17.4761046460573,17.340735993554,17.2053673410507,17.0699986885475,16.9346300360442,16.799261383541,16.6638927310377,16.5285240785344,16.3931554260312,16.2577867735279,16.1224181210247,15.9870494685214,15.8516808160181,15.7163121635149,15.5809435110116,15.4455748585084,15.3102062060051,15.1748375535018,15.0394689009986],[20.2582278246708,20.1228591721675,19.9874905196643,19.852121867161,19.7167532146578,19.5813845621545,19.4460159096512,19.310647257148,19.1752786046447,19.0399099521415,18.9045412996382,18.7691726471349,18.6338039946317,18.4984353421284,18.3630666896252,18.2276980371219,18.0923293846186,17.9569607321154,17.8215920796121,17.6862234271089,17.5508547746056,17.4154861221023,17.2801174695991,17.1447488170958,17.0093801645926,16.8740115120893,16.738642859586,16.6032742070828,16.4679055545795,16.3325369020763,16.197168249573,16.0617995970697,15.9264309445665,15.7910622920632,15.65569363956,15.5203249870567,15.3849563345534,15.2495876820502,15.1142190295469,14.9788503770437,14.8434817245404],[20.0622406482126,19.9268719957094,19.7915033432061,19.6561346907028,19.5207660381996,19.3853973856963,19.2500287331931,19.1146600806898,18.9792914281865,18.8439227756833,18.70855412318,18.5731854706768,18.4378168181735,18.3024481656702,18.167079513167,18.0317108606637,17.8963422081605,17.7609735556572,17.6256049031539,17.4902362506507,17.3548675981474,17.2194989456442,17.0841302931409,16.9487616406376,16.8133929881344,16.6780243356311,16.5426556831279,16.4072870306246,16.2719183781213,16.1365497256181,16.0011810731148,15.8658124206116,15.7304437681083,15.595075115605,15.4597064631018,15.3243378105985,15.1889691580953,15.053600505592,14.9182318530887,14.7828632005855,14.6474945480822],[19.8662534717544,19.7308848192512,19.5955161667479,19.4601475142447,19.3247788617414,19.1894102092381,19.0540415567349,18.9186729042316,18.7833042517284,18.6479355992251,18.5125669467218,18.3771982942186,18.2418296417153,18.1064609892121,17.9710923367088,17.8357236842055,17.7003550317023,17.564986379199,17.4296177266958,17.2942490741925,17.1588804216892,17.023511769186,16.8881431166827,16.7527744641795,16.6174058116762,16.4820371591729,16.3466685066697,16.2112998541664,16.0759312016632,15.9405625491599,15.8051938966566,15.6698252441534,15.5344565916501,15.3990879391469,15.2637192866436,15.1283506341403,14.9929819816371,14.8576133291338,14.7222446766306,14.5868760241273,14.451507371624],[19.6702662952963,19.534897642793,19.3995289902897,19.2641603377865,19.1287916852832,18.99342303278,18.8580543802767,18.7226857277734,18.5873170752702,18.4519484227669,18.3165797702637,18.1812111177604,18.0458424652571,17.9104738127539,17.7751051602506,17.6397365077474,17.5043678552441,17.3689992027408,17.2336305502376,17.0982618977343,16.9628932452311,16.8275245927278,16.6921559402245,16.5567872877213,16.421418635218,16.2860499827148,16.1506813302115,16.0153126777082,15.879944025205,15.7445753727017,15.6092067201985,15.4738380676952,15.3384694151919,15.2031007626887,15.0677321101854,14.9323634576822,14.7969948051789,14.6616261526756,14.5262575001724,14.3908888476691,14.2555201951659],[19.4742791188381,19.3389104663348,19.2035418138316,19.0681731613283,18.932804508825,18.7974358563218,18.6620672038185,18.5266985513153,18.391329898812,18.2559612463087,18.1205925938055,17.9852239413022,17.849855288799,17.7144866362957,17.5791179837924,17.4437493312892,17.3083806787859,17.1730120262827,17.0376433737794,16.9022747212761,16.7669060687729,16.6315374162696,16.4961687637664,16.3608001112631,16.2254314587598,16.0900628062566,15.9546941537533,15.8193255012501,15.6839568487468,15.5485881962435,15.4132195437403,15.277850891237,15.1424822387338,15.0071135862305,14.8717449337272,14.736376281224,14.6010076287207,14.4656389762175,14.3302703237142,14.1949016712109,14.0595330187077],[19.2782919423799,19.1429232898766,19.0075546373734,18.8721859848701,18.7368173323669,18.6014486798636,18.4660800273603,18.3307113748571,18.1953427223538,18.0599740698506,17.9246054173473,17.789236764844,17.6538681123408,17.5184994598375,17.3831308073343,17.247762154831,17.1123935023277,16.9770248498245,16.8416561973212,16.706287544818,16.5709188923147,16.4355502398114,16.3001815873082,16.1648129348049,16.0294442823017,15.8940756297984,15.7587069772951,15.6233383247919,15.4879696722886,15.3526010197854,15.2172323672821,15.0818637147788,14.9464950622756,14.8111264097723,14.6757577572691,14.5403891047658,14.4050204522625,14.2696517997593,14.134283147256,13.9989144947528,13.8635458422495],[19.0823047659217,18.9469361134185,18.8115674609152,18.6761988084119,18.5408301559087,18.4054615034054,18.2700928509022,18.1347241983989,17.9993555458956,17.8639868933924,17.7286182408891,17.5932495883859,17.4578809358826,17.3225122833793,17.1871436308761,17.0517749783728,16.9164063258696,16.7810376733663,16.645669020863,16.5103003683598,16.3749317158565,16.2395630633533,16.10419441085,15.9688257583467,15.8334571058435,15.6980884533402,15.562719800837,15.4273511483337,15.2919824958304,15.1566138433272,15.0212451908239,14.8858765383207,14.7505078858174,14.6151392333141,14.4797705808109,14.3444019283076,14.2090332758044,14.0736646233011,13.9382959707978,13.8029273182946,13.6675586657913]],"x":[1.6,1.7,1.8,1.9,2,2.1,2.2,2.3,2.4,2.5,2.6,2.7,2.8,2.9,3,3.1,3.2,3.3,3.4,3.5,3.6,3.7,3.8,3.9,4,4.1,4.2,4.3,4.4,4.5,4.6,4.7,4.8,4.9,5,5.1,5.2,5.3,5.4,5.5,5.6,5.7,5.8,5.9,6,6.1,6.2,6.3,6.4,6.5,6.6,6.7,6.8,6.9,7],"y":[4,4.1,4.2,4.3,4.4,4.5,4.6,4.7,4.8,4.9,5,5.1,5.2,5.3,5.4,5.5,5.6,5.7,5.8,5.9,6,6.1,6.2,6.3,6.4,6.5,6.6,6.7,6.8,6.9,7,7.1,7.2,7.3,7.4,7.5,7.6,7.7,7.8,7.9,8],"opacity":0.6,"type":"surface","cmax":1,"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script><!--/html_preserve-->

### 3.2. 숫자형 변수 2 개 + 범부형 변수 1 개 {#num-two-cat-one}

숫자형 변수 2 개 + 범부형 변수 1 개 모형을 시각화한다.

- 종속변수: `hwy`
- 예측변수/독립변수: `disp`, `cyl`, `am`
    - `disp`: 연속형 변수
    - `cyl`: 실린더 갯수
    - `am`: 범주형 변수

$$\text{연비(hwy)} = \beta_0 + \beta_1 \text{배기량(disp)} + \beta_2 \text{변속기(am)} + \beta_3 \text{실린더 갯수(cyl)} + \epsilon$$



~~~{.r}
# 2. 숫자형 변수 2개 범주형 변수 1개 시각화 -----------------------------------
## 2.1. 모형

mpg_lm <- lm(hwy ~ displ + cyl + am, data = mpg_df)

## 2.2. 평면 데이터 준비 

graph_reso <- 1

axis_x <- seq(min(mpg_df$displ), max(mpg_df$displ), by = graph_reso)
axis_y <- seq(min(mpg_df$cyl), max(mpg_df$cyl), by = graph_reso)

mpg_data_grid <- expand.grid(displ = axis_x, cyl = axis_y, am =  mpg_df$am, KEEP.OUT.ATTRS = FALSE)

mpg_data_grid <- mpg_df %>%
    data_grid(
        cyl = seq_range(cyl, by = graph_reso),
        displ = seq_range(displ, by = graph_reso),
        am = am
    )


mpg_data_grid$plane  <- predict.lm(mpg_lm, newdata = mpg_data_grid)

mpg_data_grid_auto   <- mpg_data_grid %>% filter(am == "자동변속기") %>% select(-am)
mpg_data_grid_manual <- mpg_data_grid %>% filter(am == "수동변속기") %>% select(-am)

mpg_lm_surface_auto   <- reshape2::acast(mpg_data_grid_auto, displ ~ cyl, value.var = "plane") 
mpg_lm_surface_manual <- reshape2::acast(mpg_data_grid_manual, displ ~ cyl, value.var = "plane") 

## 2.3. 시각화

plot_ly(data = mpg_df, z = ~hwy, x = ~displ, y = ~cyl, opacity = 0.6) %>%
    add_markers(text = ~model, marker = list(size = 2)) %>%
    add_surface(x = ~axis_x, y = ~axis_y, z = ~mpg_lm_surface_auto, showscale = FALSE, cmax = 1) %>% 
    add_surface(x = ~axis_x, y = ~axis_y, z = ~mpg_lm_surface_manual, showscale = TRUE, cmax = 1)
~~~

<!--html_preserve--><div id="34a447bb3fdc" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="34a447bb3fdc">{"x":{"visdat":{"34a440647e6b":["function () ","plotlyVisDat"]},"cur_data":"34a440647e6b","attrs":{"34a440647e6b":{"z":{},"x":{},"y":{},"opacity":0.6,"alpha":1,"sizes":[10,100],"type":"scatter3d","mode":"markers","text":{},"marker":{"size":2}},"34a440647e6b.1":{"z":{},"x":{},"y":{},"opacity":0.6,"alpha":1,"sizes":[10,100],"type":"surface","showscale":false,"cmax":1},"34a440647e6b.2":{"z":{},"x":{},"y":{},"opacity":0.6,"alpha":1,"sizes":[10,100],"type":"surface","showscale":true,"cmax":1}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"scene":{"xaxis":{"title":"displ"},"yaxis":{"title":"cyl"},"zaxis":{"title":"hwy"}},"xaxis":{"domain":[0,1]},"yaxis":{"domain":[0,1]},"hovermode":"closest","showlegend":true,"legend":{"y":0.5,"yanchor":"top"}},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"z":[29,29,31,30,26,26,27,26,25,28,27,25,25,25,25,24,25,23,20,15,20,17,17,26,23,26,25,24,19,14,15,17,27,30,26,29,26,24,24,22,22,24,24,17,22,21,23,23,19,18,17,17,19,19,12,17,15,17,17,12,17,16,18,15,16,12,17,17,16,12,15,16,17,15,17,17,18,17,19,17,19,19,17,17,17,16,16,17,15,17,26,25,26,24,21,22,23,22,20,33,32,32,29,32,34,36,36,29,26,27,30,31,26,26,28,26,29,28,27,24,24,24,22,19,20,17,12,19,18,14,15,18,18,15,17,16,18,17,19,19,17,29,27,31,32,27,26,26,25,25,17,17,20,18,26,26,27,28,25,25,24,27,25,26,23,26,26,26,26,25,27,25,27,20,20,19,17,20,17,29,27,31,31,26,26,28,27,29,31,31,26,26,27,30,33,35,37,35,15,18,20,20,22,17,19,18,20,29,26,29,29,24,44,29,26,29,29,29,29,23,24,44,41,29,26,28,29,29,29,28,29,26,26,26],"x":[1.8,1.8,2,2,2.8,2.8,3.1,1.8,1.8,2,2,2.8,2.8,3.1,3.1,2.8,3.1,4.2,5.3,5.3,5.3,5.7,6,5.7,5.7,6.2,6.2,7,5.3,5.3,5.7,6.5,2.4,2.4,3.1,3.5,3.6,2.4,3,3.3,3.3,3.3,3.3,3.3,3.8,3.8,3.8,4,3.7,3.7,3.9,3.9,4.7,4.7,4.7,5.2,5.2,3.9,4.7,4.7,4.7,5.2,5.7,5.9,4.7,4.7,4.7,4.7,4.7,4.7,5.2,5.2,5.7,5.9,4.6,5.4,5.4,4,4,4,4,4.6,5,4.2,4.2,4.6,4.6,4.6,5.4,5.4,3.8,3.8,4,4,4.6,4.6,4.6,4.6,5.4,1.6,1.6,1.6,1.6,1.6,1.8,1.8,1.8,2,2.4,2.4,2.4,2.4,2.5,2.5,3.3,2,2,2,2,2.7,2.7,2.7,3,3.7,4,4.7,4.7,4.7,5.7,6.1,4,4.2,4.4,4.6,5.4,5.4,5.4,4,4,4.6,5,2.4,2.4,2.5,2.5,3.5,3.5,3,3,3.5,3.3,3.3,4,5.6,3.1,3.8,3.8,3.8,5.3,2.5,2.5,2.5,2.5,2.5,2.5,2.2,2.2,2.5,2.5,2.5,2.5,2.5,2.5,2.7,2.7,3.4,3.4,4,4.7,2.2,2.2,2.4,2.4,3,3,3.5,2.2,2.2,2.4,2.4,3,3,3.3,1.8,1.8,1.8,1.8,1.8,4.7,5.7,2.7,2.7,2.7,3.4,3.4,4,4,2,2,2,2,2.8,1.9,2,2,2,2,2.5,2.5,2.8,2.8,1.9,1.9,2,2,2.5,2.5,1.8,1.8,2,2,2.8,2.8,3.6],"y":[4,4,4,4,6,6,6,4,4,4,4,6,6,6,6,6,6,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,4,4,6,6,6,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,8,8,8,8,8,6,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,6,6,6,6,8,8,6,6,8,8,8,8,8,6,6,6,6,8,8,8,8,8,4,4,4,4,4,4,4,4,4,4,4,4,4,6,6,6,4,4,4,4,6,6,6,6,6,6,8,8,8,8,8,8,8,8,8,8,8,8,6,6,8,8,4,4,4,4,6,6,6,6,6,6,6,6,8,6,6,6,6,8,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,6,6,6,8,4,4,4,4,6,6,6,4,4,4,4,6,6,6,4,4,4,4,4,8,8,4,4,4,6,6,6,6,4,4,4,4,6,4,4,4,4,4,5,5,6,6,4,4,4,4,5,5,4,4,4,4,6,6,6],"opacity":0.6,"type":"scatter3d","mode":"markers","text":["a4","a4","a4","a4","a4","a4","a4","a4 quattro","a4 quattro","a4 quattro","a4 quattro","a4 quattro","a4 quattro","a4 quattro","a4 quattro","a6 quattro","a6 quattro","a6 quattro","c1500 suburban 2wd","c1500 suburban 2wd","c1500 suburban 2wd","c1500 suburban 2wd","c1500 suburban 2wd","corvette","corvette","corvette","corvette","corvette","k1500 tahoe 4wd","k1500 tahoe 4wd","k1500 tahoe 4wd","k1500 tahoe 4wd","malibu","malibu","malibu","malibu","malibu","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","caravan 2wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","dakota pickup 4wd","durango 4wd","durango 4wd","durango 4wd","durango 4wd","durango 4wd","durango 4wd","durango 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","ram 1500 pickup 4wd","expedition 2wd","expedition 2wd","expedition 2wd","explorer 4wd","explorer 4wd","explorer 4wd","explorer 4wd","explorer 4wd","explorer 4wd","f150 pickup 4wd","f150 pickup 4wd","f150 pickup 4wd","f150 pickup 4wd","f150 pickup 4wd","f150 pickup 4wd","f150 pickup 4wd","mustang","mustang","mustang","mustang","mustang","mustang","mustang","mustang","mustang","civic","civic","civic","civic","civic","civic","civic","civic","civic","sonata","sonata","sonata","sonata","sonata","sonata","sonata","tiburon","tiburon","tiburon","tiburon","tiburon","tiburon","tiburon","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","grand cherokee 4wd","range rover","range rover","range rover","range rover","navigator 2wd","navigator 2wd","navigator 2wd","mountaineer 4wd","mountaineer 4wd","mountaineer 4wd","mountaineer 4wd","altima","altima","altima","altima","altima","altima","maxima","maxima","maxima","pathfinder 4wd","pathfinder 4wd","pathfinder 4wd","pathfinder 4wd","grand prix","grand prix","grand prix","grand prix","grand prix","forester awd","forester awd","forester awd","forester awd","forester awd","forester awd","impreza awd","impreza awd","impreza awd","impreza awd","impreza awd","impreza awd","impreza awd","impreza awd","4runner 4wd","4runner 4wd","4runner 4wd","4runner 4wd","4runner 4wd","4runner 4wd","camry","camry","camry","camry","camry","camry","camry","camry solara","camry solara","camry solara","camry solara","camry solara","camry solara","camry solara","corolla","corolla","corolla","corolla","corolla","land cruiser wagon 4wd","land cruiser wagon 4wd","toyota tacoma 4wd","toyota tacoma 4wd","toyota tacoma 4wd","toyota tacoma 4wd","toyota tacoma 4wd","toyota tacoma 4wd","toyota tacoma 4wd","gti","gti","gti","gti","gti","jetta","jetta","jetta","jetta","jetta","jetta","jetta","jetta","jetta","new beetle","new beetle","new beetle","new beetle","new beetle","new beetle","passat","passat","passat","passat","passat","passat","passat"],"marker":{"fillcolor":"rgba(31,119,180,1)","color":"rgba(31,119,180,1)","size":2},"frame":null},{"colorbar":{"title":"hwy<br />mpg_lm_surface_auto<br />mpg_lm_surface_manual","ticklen":2,"len":0.5,"y":1,"lenmode":"fraction","yanchor":"top"},"colorscale":[["0","rgba(68,1,84,1)"],["0.101788790106341","rgba(72,37,117,1)"],["0.164671544978868","rgba(69,57,128,1)"],["0.210665797688024","rgba(64,71,135,1)"],["0.250439985275637","rgba(60,82,138,1)"],["0.292092470105334","rgba(56,93,140,1)"],["0.322654675886615","rgba(51,101,142,1)"],["0.346184319331208","rgba(48,107,142,1)"],["0.377751176874873","rgba(46,114,142,1)"],["0.41434129323046","rgba(42,123,142,1)"],["0.440884891962205","rgba(39,129,142,1)"],["0.464414535406797","rgba(38,135,141,1)"],["0.5","rgba(37,144,140,1)"],["0.535585464593202","rgba(34,153,138,1)"],["0.559115108037795","rgba(32,159,137,1)"],["0.585658706769539","rgba(39,165,133,1)"],["0.622248823125126","rgba(46,173,128,1)"],["0.653815680668792","rgba(51,180,123,1)"],["0.677345324113384","rgba(61,185,118,1)"],["0.707907529894666","rgba(79,191,110,1)"],["0.749560014724363","rgba(98,199,98,1)"],["0.789334202311975","rgba(118,207,85,1)"],["0.835328455021132","rgba(149,214,69,1)"],["0.898211209893659","rgba(186,223,43,1)"],["1","rgba(253,231,37,1)"]],"showscale":false,"z":[[29.2765203035105,27.9635278699142,26.650535436318,25.3375430027218,24.0245505691255],[27.3470782793913,26.0340858457951,24.7210934121988,23.4081009786026,22.0951085450064],[25.4176362552722,24.1046438216759,22.7916513880797,21.4786589544835,20.1656665208872],[23.488194231153,22.1752017975568,20.8622093639606,19.5492169303643,18.2362244967681],[21.5587522070339,20.2457597734377,18.9327673398414,17.6197749062452,16.3067824726489],[19.6293101829148,18.3163177493185,17.0033253157223,15.690332882126,14.3773404485298]],"x":[1.6,2.6,3.6,4.6,5.6,6.6],"y":[4,5,6,7,8],"opacity":0.6,"type":"surface","cmax":1,"frame":null},{"colorbar":{"title":"hwy<br />mpg_lm_surface_auto<br />mpg_lm_surface_manual","ticklen":2},"colorscale":[["0","rgba(68,1,84,1)"],["0.101788790106341","rgba(72,37,117,1)"],["0.164671544978868","rgba(69,57,128,1)"],["0.210665797688024","rgba(64,71,135,1)"],["0.250439985275637","rgba(60,82,138,1)"],["0.292092470105334","rgba(56,93,140,1)"],["0.322654675886615","rgba(51,101,142,1)"],["0.346184319331208","rgba(48,107,142,1)"],["0.377751176874873","rgba(46,114,142,1)"],["0.41434129323046","rgba(42,123,142,1)"],["0.440884891962205","rgba(39,129,142,1)"],["0.464414535406797","rgba(38,135,141,1)"],["0.5","rgba(37,144,140,1)"],["0.535585464593202","rgba(34,153,138,1)"],["0.559115108037795","rgba(32,159,137,1)"],["0.585658706769539","rgba(39,165,133,1)"],["0.622248823125126","rgba(46,173,128,1)"],["0.653815680668792","rgba(51,180,123,1)"],["0.677345324113384","rgba(61,185,118,1)"],["0.707907529894666","rgba(79,191,110,1)"],["0.749560014724363","rgba(98,199,98,1)"],["0.789334202311975","rgba(118,207,85,1)"],["0.835328455021132","rgba(149,214,69,1)"],["0.898211209893659","rgba(186,223,43,1)"],["1","rgba(253,231,37,1)"]],"showscale":true,"z":[[30.0522672021113,28.7392747685151,27.4262823349188,26.1132899013226,24.8002974677263],[28.1228251779922,26.8098327443959,25.4968403107997,24.1838478772034,22.8708554436072],[26.193383153873,24.8803907202768,23.5673982866805,22.2544058530843,20.9414134194881],[24.2639411297539,22.9509486961576,21.6379562625614,20.3249638289651,19.0119713953689],[22.3344991056347,21.0215066720385,19.7085142384422,18.395521804846,17.0825293712498],[20.4050570815156,19.0920646479193,17.7790722143231,16.4660797807269,15.1530873471306]],"x":[1.6,2.6,3.6,4.6,5.6,6.6],"y":[4,5,6,7,8],"opacity":0.6,"type":"surface","cmax":1,"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script><!--/html_preserve-->

